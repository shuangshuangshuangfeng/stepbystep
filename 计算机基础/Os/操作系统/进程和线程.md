# 进程和线程

## 1. 进程和线程的区别

​    ① 进程是资源管理的基本单位；线程是调度的基本单位

​    ② 一个进程由一个或者多个线程组成

​    ③ 进程之间相互独立，但是一个进程下的多个线程共享进程的内存空间和一些资源

​    ④ 线程上下文切换比进程上下文切换快得多

## 2. 线程共享了进程的什么资源

### 2.1 线程私有的资源

​        （1）线程运行的本质是函数的执行，函数运行时的信息保存在栈帧中， 栈帧中保存了函数的返回值，调用其他函数的参数，该函数的局部变量以及函数使用的寄存器信息，**所以线程的栈区时私有的**。

​        （2）函数运行时需要额外的寄存器来保存一些信息，像部分局部变量之类的，这些寄存器也是线程私有的，一个线程是访问不到另一个线程的寄存器信息的。这些信息被统称为线程上下文信息。**所以线程的上下文信息是私有的。**

### 2.2 线程共享的资源

​    ① 代码区： 代码是编译后的可执行指令，是可以从可执行文件中加载到内存的

​    ② 数据区： 这里存放的是所谓的全局变量

​    ③ 堆区： `malloc`或`new`出来的，只知道变量的地址，任何一个线程都可以通过指针访问指向的数据

​    ④ 主程序的栈

​    ⑤ 动态链接库

​    ⑥ 进程打开的文件
